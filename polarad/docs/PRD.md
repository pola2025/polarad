# Polarad 마케팅 패키지 - PRD (Product Requirements Document)

## 문서 정보
- **프로젝트명**: Polarad 마케팅 패키지
- **버전**: 1.0.0
- **작성일**: 2025-12-01
- **기반**: 비즈액터스쿨 스타트패키지

---

## 1. 프로젝트 개요

### 1.1 목적
Polarad 마케팅 패키지는 **광고 마케팅 서비스를 이용하는 고객**을 위한 통합 관리 시스템입니다.
고객이 필요한 자료를 제출하고, 제작 진행 상황을 실시간으로 확인하며, 광고 성과를 모니터링할 수 있는 플랫폼입니다.

### 1.2 핵심 가치
- **원스톱 서비스**: 자료 제출 → 제작 → 광고 운영 → 성과 리포트까지 한 곳에서
- **실시간 진행 현황**: 제작 단계별 상태 확인 및 알림
- **광고 성과 대시보드**: Meta 광고 성과 실시간 모니터링 (bas_meta 연동)

### 1.3 대상 사용자
| 사용자 유형 | 설명 |
|------------|------|
| **고객 (Client)** | 마케팅 서비스를 이용하는 사업자/개인 |
| **관리자 (Admin)** | 서비스 운영, 제작 관리, 알림 발송 담당 |
| **디자이너 (Designer)** | 인쇄물/홈페이지 시안 제작 |

---

## 2. 서비스 구성

### 2.1 전체 서비스 맵

```
┌─────────────────────────────────────────────────────────────────────┐
│                    Polarad 마케팅 패키지                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │  인쇄물     │  │  마케팅     │  │  홈페이지   │  │  광고 성과  │ │
│  │  제작       │  │  설정       │  │  제작       │  │  (bas_meta) │ │
│  ├─────────────┤  ├─────────────┤  ├─────────────┤  ├─────────────┤ │
│  │ • 명함      │  │ • Meta광고  │  │ • 아임웹    │  │ • 대시보드  │ │
│  │ • 명찰      │  │ • 네이버광고│  │ • 스타일선택│  │ • 일/주간   │ │
│  │ • 계약서    │  │ • 블로그    │  │ • 컬러컨셉  │  │   리포트    │ │
│  │ • 대봉투    │  │ • 네이버클라│  │             │  │ • 캠페인    │ │
│  │             │  │   우드      │  │             │  │   분석      │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.2 서비스별 상세

#### 2.2.1 인쇄물 제작 서비스
| 항목 | 설명 | 제작 기간 |
|------|------|----------|
| 명함 | 기본 명함 제작 | 2-3 영업일 |
| 명찰 | 행사용 명찰 | 3-4 영업일 |
| 자문계약서 | 표지/내지 디자인 | 7 영업일 |
| 대봉투 | A4 대봉투 | 4-5 영업일 |

#### 2.2.2 마케팅 설정 서비스
| 항목 | 필요 정보 |
|------|----------|
| Meta 광고 | 광고 관리자 권한 초대 또는 ID/PW |
| 네이버 검색광고 | ID/PW, 본인인증, 예산 충전 |
| 네이버 클라우드 | ID/PW, 결제 정보 등록 |
| 블로그 디자인 | 디자인 요청사항 |

#### 2.2.3 홈페이지 제작 서비스
| 항목 | 설명 |
|------|------|
| 플랫폼 | 아임웹 기반 |
| 스타일 선택 | 샘플 사이트 미리보기 후 선택 |
| 컬러 컨셉 | 필수 선택 (브랜드 색상) |

#### 2.2.4 광고 성과 대시보드 (bas_meta 연동)
| 기능 | 설명 |
|------|------|
| 일간 리포트 | 노출, 클릭, 비용, 리드 현황 |
| 주간 리포트 | 주간 성과 요약 및 효율 등급 |
| 캠페인 분석 | 광고별 성과 비교 |
| 텔레그램 알림 | 자동 리포트 발송 |

---

## 3. 사용자 플로우

### 3.1 고객 플로우

```
┌──────────────────────────────────────────────────────────────────────┐
│                         고객 (Client) 플로우                          │
└──────────────────────────────────────────────────────────────────────┘

[회원가입]
    │
    ▼
[기수 선택] → [이메일 입력] → [기본정보 입력] → [비밀번호 설정] → [알림 동의]
    │
    ▼
[대시보드 진입]
    │
    ├─→ [인쇄물 탭] → 자료 업로드 → 시안 확인 → 발주 요청
    │
    ├─→ [마케팅 탭] → 광고 계정 정보 입력 → 설정 완료
    │
    ├─→ [홈페이지 탭] → 스타일 선택 → 컬러 선택 → 요청 완료
    │
    └─→ [광고 성과 탭] → 실시간 대시보드 → 리포트 확인
                         (bas_meta 연동)
```

### 3.2 상태 전환 플로우

```
[자료제출중]
     │ (모든 필수 자료 업로드 완료)
     ▼
[제작진행중] ← 수정/업로드 불가
     │ (관리자가 시안 업로드)
     ▼
[시안확인]
     │ (사용자가 발주요청 버튼 클릭)
     ▼
[발주요청] ← 정보 변경 불가 (경고 강조!)
     │ (인쇄소 제작 완료)
     ▼
[제작완료]
     │ (발송)
     ▼
[발송완료]
```

---

## 4. 핵심 기능 상세

### 4.1 회원가입 및 인증

#### 회원가입 단계
1. **기수 선택**: 활성화된 기수(그룹) 선택
2. **이메일 입력**: 알림 수신용 (필수)
3. **기본 정보**: 이름, 연락처
4. **비밀번호**: 4자리 숫자
5. **알림 동의**: SMS/이메일 수신 동의

#### 로그인
- 기수 + 이름 + 연락처 + 비밀번호 조합

### 4.2 자료 제출 시스템

#### 필수 제출 자료
| 항목 | 형식 | 검증 |
|------|------|------|
| 사업자등록증 | PDF, JPG, PNG | 10MB 이하 |
| 프로필 사진 | JPG, PNG | 1000px 이하 |
| 브랜드명 | 텍스트 | 필수 |
| 이메일 주소 | 텍스트 | 이메일 형식 |
| 대표 번호 | 텍스트 | 전화번호 형식 |
| 계좌 번호 | 텍스트 | 필수 |

#### 선택 제출 자료
- 인쇄물 주소 (별도 배송지)
- 홈페이지 스타일
- 블로그 디자인 요청사항

### 4.3 제작 진행 관리

#### 워크플로우 상태
| 상태 | 설명 | 사용자 권한 |
|------|------|------------|
| 대기 | 자료 제출 전 | 업로드 가능 |
| 시안중 | 디자인 작업 중 | 읽기만 가능 |
| 발주대기 | 시안 완료, 확인 대기 | 발주 요청 가능 |
| 발주완료 | 인쇄소 제작 중 | 변경 불가 |
| 제작완료 | 인쇄 완료 | 읽기만 가능 |
| 발송완료 | 택배 발송 | 운송장 확인 가능 |

#### 시안 확인 및 발주
- **시안 확인**: PDF 다운로드 및 미리보기
- **발주 전 경고**:
  - 발주 후 정보 변경 불가
  - 오탈자 미검수 시 재발주 비용 본인 부담
  - 수정 횟수 제한 (최대 2회)

### 4.4 광고 성과 대시보드 (bas_meta 연동)

#### 연동 방식
- bas_meta 시스템의 데이터베이스 공유
- 클라이언트별 광고 성과 조회
- 실시간 데이터 동기화

#### 제공 기능
| 기능 | 설명 |
|------|------|
| 일간 대시보드 | 오늘 노출, 클릭, 비용, 리드 |
| 주간 리포트 | 주간 성과 요약, 효율 등급 (S/A/B/C/D) |
| 캠페인 상세 | 광고별 상세 성과 |
| 기간 비교 | 기간별 성과 비교 |

### 4.5 알림 시스템

#### 알림 채널
| 채널 | 용도 |
|------|------|
| SMS | 마감일 알림, 긴급 알림 |
| 이메일 | 상세 안내, 시안 완료 알림 |
| 텔레그램 | 관리자 알림, 광고 리포트 |

#### 자동 알림 트리거
| 시점 | 내용 |
|------|------|
| 회원가입 완료 | 환영 메시지 + 마감일 안내 |
| 2주차 시작 | 미제출 자료 리마인더 |
| 마감 7일 전 | 마감일 알림 (D-7) |
| 마감 3일 전 | 긴급 알림 (D-3) |
| 마감 1일 전 | 최종 경고 (D-1) |
| 시안 완료 | 시안 확인 요청 |
| 발주 완료 | 발주 확인 + 예상 완료일 |
| 발송 완료 | 운송장 번호 안내 |

---

## 5. 관리자 기능

### 5.1 관리자 대시보드

#### 통계 현황
- 전체 사용자 수
- 자료 제출률
- 발주 대기 건수
- 발송 완료 건수

#### 기수별 진행률
- 기수별 제출 현황
- 기수별 제작 진행 현황

### 5.2 사용자 관리

| 기능 | 설명 |
|------|------|
| 목록 조회 | 필터, 검색, 정렬 |
| 상세 보기 | 제출 현황, 워크플로우 상태 |
| 일괄 등록 | CSV 업로드 |
| 알림 발송 | 선택 사용자 일괄 알림 |

### 5.3 워크플로우 관리

| 기능 | 설명 |
|------|------|
| 시안 업로드 | PDF 업로드 + 자동 알림 발송 |
| 발주 승인 | 사용자 발주 요청 승인 |
| 택배 정보 입력 | 운송장 번호 + 자동 알림 발송 |
| 상태 변경 | 수동 상태 변경 |

### 5.4 기수(그룹) 관리

| 필드 | 설명 |
|------|------|
| 기수명 | "1기", "2기" 등 |
| 교육 시작일 | 서비스 시작일 |
| 자료 제출 마감일 | 자동 알림 기준일 |
| 활성화 여부 | 회원가입 허용 여부 |

### 5.5 알림 관리

| 기능 | 설명 |
|------|------|
| 발송 이력 조회 | 채널별, 상태별 필터 |
| 수동 발송 | 커스텀 메시지 발송 |
| 재발송 | 실패 건 재발송 |

---

## 6. 기술 아키텍처

### 6.1 시스템 구성

```
┌──────────────────────────────────────────────────────────────────────┐
│                           Frontend                                    │
│                    (Next.js 15 + TypeScript)                         │
├───────────────┬───────────────┬──────────────────────────────────────┤
│  고객 포털    │  관리자 대시보드 │  광고 대시보드 (bas_meta)           │
│  /user/*      │  /admin/*      │  /analytics/*                       │
└───────────────┴───────────────┴──────────────────────────────────────┘
                              │
                              ▼
┌──────────────────────────────────────────────────────────────────────┐
│                         API Layer                                     │
│                   (Next.js API Routes)                               │
├───────────────┬───────────────┬──────────────────────────────────────┤
│  Auth API     │  Workflow API  │  Analytics API                      │
│  User API     │  Notification  │  (bas_meta 연동)                    │
│  Cohort API   │  API           │                                     │
└───────────────┴───────────────┴──────────────────────────────────────┘
                              │
                              ▼
┌──────────────────────────────────────────────────────────────────────┐
│                        Database Layer                                 │
│                    (PostgreSQL - Supabase)                           │
├───────────────┬───────────────┬──────────────────────────────────────┤
│  users        │  workflows     │  clients (bas_meta)                 │
│  cohorts      │  submissions   │  raw_data (bas_meta)                │
│  notifications│  workflow_logs │  weekly_summary (bas_meta)          │
└───────────────┴───────────────┴──────────────────────────────────────┘
                              │
                              ▼
┌──────────────────────────────────────────────────────────────────────┐
│                       External Services                               │
├───────────────┬───────────────┬──────────────────────────────────────┤
│  AWS S3       │  NCP SENS     │  Telegram Bot API                    │
│  (파일 저장)   │  (SMS 발송)    │  (알림/리포트)                       │
├───────────────┼───────────────┼──────────────────────────────────────┤
│  SendGrid     │  Meta API     │  Vercel Cron                         │
│  (이메일)      │  (광고 데이터) │  (자동 작업)                         │
└───────────────┴───────────────┴──────────────────────────────────────┘
```

### 6.2 기술 스택

| 영역 | 기술 |
|------|------|
| Frontend | Next.js 15, TypeScript, Tailwind CSS, shadcn/ui |
| Backend | Next.js API Routes, Prisma ORM |
| Database | PostgreSQL (Supabase) |
| Auth | NextAuth.js v5 |
| File Storage | AWS S3 / Cloudflare R2 |
| SMS | NCP SENS |
| Email | SendGrid |
| Notification | Telegram Bot API |
| Hosting | Vercel |

### 6.3 데이터베이스 스키마 (핵심)

```prisma
// 사용자 (고객)
model User {
  id          String   @id
  cohortId    String   // 기수 참조
  name        String
  email       String   @unique
  phone       String
  password    String   // bcrypt 해시

  // 알림 동의
  smsConsent    Boolean
  emailConsent  Boolean

  // 관계
  submissions   Submission[]
  workflows     Workflow[]
  notifications Notification[]
}

// 기수
model Cohort {
  id              String   @id
  name            String   // "1기", "2기"
  startDate       DateTime
  deadlineDate    DateTime
  isActive        Boolean
}

// 자료 제출
model Submission {
  id              String   @id
  userId          String

  // 필수 자료
  businessLicense String?  // 사업자등록증 URL
  profilePhoto    String?  // 프로필 사진 URL
  brandName       String?
  email           String?
  phone           String?
  bankAccount     String?

  // 상태
  isComplete      Boolean
  completedAt     DateTime?
}

// 워크플로우 (제작 진행)
model Workflow {
  id              String   @id
  userId          String
  type            String   // "명함", "명찰", "계약서", "대봉투", "홈페이지"
  status          String   // "대기", "시안중", "발주대기", "발주완료", "제작완료", "발송완료"

  // 날짜 추적
  submittedAt     DateTime?
  designUploadedAt DateTime?
  orderRequestedAt DateTime?
  orderApprovedAt DateTime?
  completedAt     DateTime?
  shippedAt       DateTime?

  // 파일
  designUrl       String?

  // 택배
  courier         String?
  trackingNumber  String?
}

// bas_meta 연동 (기존 테이블 참조)
// - clients: 광고 클라이언트 정보
// - raw_data: 광고 성과 원본 데이터
// - weekly_summary: 주간 집계 데이터
```

---

## 7. 개발 로드맵

### Phase 1: Core (3주)
- [ ] 회원가입/로그인 시스템
- [ ] 자료 제출 시스템
- [ ] 파일 업로드 (S3 연동)
- [ ] 기본 대시보드 UI

### Phase 2: Workflow (2주)
- [ ] 워크플로우 상태 관리
- [ ] 시안 업로드 기능
- [ ] 발주 요청/승인 기능
- [ ] 택배 정보 관리

### Phase 3: Admin (2주)
- [ ] 관리자 대시보드
- [ ] 사용자 관리
- [ ] 기수 관리
- [ ] 통계 및 차트

### Phase 4: Notification (1주)
- [ ] SMS 알림 연동 (NCP SENS)
- [ ] 이메일 알림 연동 (SendGrid)
- [ ] 자동 알림 스케줄러 (Cron)
- [ ] 알림 이력 관리

### Phase 5: bas_meta 연동 (1주)
- [ ] 광고 성과 대시보드 연동
- [ ] 클라이언트별 성과 조회
- [ ] 텔레그램 리포트 연동

### Phase 6: 최적화 (1주)
- [ ] 성능 최적화
- [ ] 보안 강화
- [ ] 테스트 및 QA

---

## 8. 성공 지표 (KPI)

| 지표 | 목표 |
|------|------|
| 자료 제출 완료율 | 95% 이상 |
| 마감일 내 제출율 | 90% 이상 |
| 시안 승인까지 평균 시간 | 3일 이내 |
| 알림 발송 성공률 | 99% 이상 |
| 시스템 가동률 | 99.9% |

---

## 9. 리스크 및 대응

| 리스크 | 대응 방안 |
|--------|----------|
| 파일 업로드 용량 초과 | 클라이언트 압축, 용량 제한 명시 |
| SMS 발송 실패 | 재발송 로직, 이메일 대체 발송 |
| Meta API 토큰 만료 | 만료 알림 시스템 (bas_meta 연동) |
| 동시 접속 증가 | Vercel 오토스케일링 |

---

## 10. 부록

### 10.1 용어 정의
| 용어 | 정의 |
|------|------|
| 기수 (Cohort) | 서비스 이용 그룹 단위 |
| 워크플로우 | 제작 진행 단위 (명함, 홈페이지 등) |
| 시안 | 디자인 초안 파일 |
| 발주 | 인쇄소 제작 요청 |

### 10.2 관련 시스템
| 시스템 | 역할 |
|--------|------|
| bas_meta | Meta 광고 데이터 수집 및 분석 |
| NCP SENS | SMS 발송 서비스 |
| Supabase | 데이터베이스 호스팅 |

### 10.3 참고 문서
- [스타트패키지 아키텍처](../../../startpackage/ARCHITECTURE.md)
- [관리자 대시보드 기획](../../../startpackage/docs/ADMIN_DASHBOARD_SPEC.md)
- [회원가입 플로우](../../../startpackage/SIGNUP_FLOW.md)

---

**문서 끝**
